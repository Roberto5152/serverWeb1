<!DOCTYPE html>
<html>
<head>

<style>
	body {
		height: 300vh;
  		background-image: url("https://wallpaperslinks.com/wp-content/uploads/2020/07/triangle-planet-4k-4h-1080x1920-1.jpg");
  		background-size: cover;
  		background-repeat:no-repeat;
  		background-position: center;
	}
	button{
		width: 10%;
	}
}
</style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
<script src="\static\js\index.js"></script>
<title>EMBEBIDOS</title>
</head>

<body onload='inicio()'>

<center>
	<h1 id="tituto" style="color: white;">Servidor de Embebidos</h1>
	<img id="imagen" style="border-radius: 35px; height: 50vh" src="https://www.lavanguardia.com/files/image_449_220/uploads/2018/03/19/5fa436c7233b0.jpeg" alt="user" >
</center>

<h1 style="color: white;">Sensor 1:</h>
	<h id="sensor1" style="color: white;" >-_-</h1>
<h1 style="color: white;">Sensor 2:</h>
	<h id="sensor2" style="color: white;">-_-</h1>
<h1 style="color: white;">Mensaje:</h>
	<input type="text" id="enviarmensaje" name="enviarmensaje"></h1>
<h1 style="color: white;">Recibido:</h>
	<h id="recibido" style="color: white;" ></h1>
<h1 style="color: white;">LED: </h>
	<h id="estado" style="color: white;">Apagado</h1>

<center>
	<button id = "LED1On" style="background-color: purple; color: white; border-radius: 35px; border-color: white; border-width: 3px;font-weight: 600; font-size: 15px; padding-top: 15px; padding-bottom: 15px;" 
	type="button" onclick="LED1_On();">LED1 ON!</button>
	<h1></h1>
	<button id = 'LED1Off' style="background-color: purple; color: white; border-radius: 35px; border-color: white; border-width: 3px;font-weight: 600; font-size: 15px; padding-top: 15px; padding-bottom: 15px;"
	type="button" onclick="LED1_Off();">LED1_OFF!</button>
	<h1></h1>
	<button id = 'nuevo' style="background-color: purple; color: white; border-radius: 35px; border-color: white; border-width: 3px; font-weight: 600; font-size: 15px; padding-top: 15px; padding-bottom: 15px;"
	type="button" onclick="nuevo();">Enviar Mensaje</button>
</center>

<script src="\static\js\prueba.js"></script>

<script>
/*
function nuevo() {
	
	console.log("Mensaje");
	var texto = document.getElementById('enviarmensaje').value;
	message = new Paho.MQTT.Message(texto);
    message.destinationName = "carloscalderon_@hotmail.es/t2";
    client.send(message);
}


function LED1_On() {
	//alert("led on");
	console.log("led on");
	message = new Paho.MQTT.Message("ON");
    message.destinationName = "carloscalderon_@hotmail.es/t2";
    client.send(message);
  
}
function LED1_Off(){
	//alert("led off");
	console.log("led off");
	message = new Paho.MQTT.Message("OFF");
    message.destinationName = "carloscalderon_@hotmail.es/t2";
    client.send(message);
}

client = new Paho.MQTT.Client("maqiatto.com", 8883, "web_" + parseInt(Math.random() * 100, 10));

  // set callback handlers
  //client.onConnectionLost = onConnectionLost;
  //client.onMessageArrived = onMessageArrived;
  var options = {
   useSSL: false,
    userName: "carloscalderon_@hotmail.es",
    password: "roberto51",
    onSuccess:onConnect,
    onFailure:doFail
  }

  // connect the client
  client.connect(options);

  // called when the client connects
  function onConnect() {
    // Once a connection has been made, make a subscription and send a message.
    console.log("Conectado...");
    client.subscribe("carloscalderon_@hotmail.es/t1");
    message = new Paho.MQTT.Message("hola desde la web");
    message.destinationName = "carloscalderon_@hotmail.es/t2";
    client.send(message);
	
  }

  function doFail(e){
    console.log(e);
  }
 */
/*
  // called when the client loses its connection
  function onConnectionLost(responseObject) {
    if (responseObject.errorCode !== 0) {
      console.log("onConnectionLost:"+responseObject.errorMessage);
    }
  }

  // called when a message arrives
  function onMessageArrived(message) {
    console.log("onMessageArrived:"+message.payloadString);
	  document.getElementById("sensor").innerHTML=message.payloadString;
  }
*/
</script>
</body>
</html>